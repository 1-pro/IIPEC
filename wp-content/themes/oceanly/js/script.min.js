var oceanly=oceanly||{};function oceanlyDomReady(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)}Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},oceanly.setupMainMenu={init:function(){const e=document.getElementById("site-navigation");if(e){const t=e.getElementsByTagName("ul")[0],n=e.querySelector(".menu-toggle");if(void 0===t)return void(n&&(n.style.display="none"));t.classList.add("nav-menu");const a=e.querySelectorAll(".main-navigation-arrow-btn"),o=e.querySelectorAll("li > a"),i=e.querySelectorAll("li:not(.menu-item-has-children) > a"),s=e.querySelectorAll("li:last-child:not(.menu-item-has-children) > a");this.toggleNavigation(n,e),this.collapseIfClickOutside(n,e),this.collapseIfEscapeKeyPress(n,e),this.collapseOnResize(n,e),this.toggleSubmenu(a,o,i,s),this.trapFocusInModal(e)}},toggleNavigation:function(e,t){e&&e.addEventListener("click",function(n){n.preventDefault(),t.classList.toggle("toggled"),e&&("true"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true"))})},collapseIfClickOutside:function(e,t){document.addEventListener("click",function(n){t.contains(n.target)||(t.classList.remove("toggled"),e&&e.setAttribute("aria-expanded","false"),[].forEach.call(t.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(t.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")}))})},collapseIfEscapeKeyPress:function(e,t){document.addEventListener("keyup",function(n){"Escape"===n.key&&(t.classList.remove("toggled"),e&&e.setAttribute("aria-expanded","false"))})},collapseOnResize:function(e,t){window.addEventListener("resize",function(){window.matchMedia("screen and (min-width: 576px)").matches&&(t.classList.remove("toggled"),e&&e.setAttribute("aria-expanded","false"))})},toggleSubmenu:function(e,t,n,a){function o(){for(var e=this,t=!1;"ul"!==e.tagName.toLowerCase();)"li"!==e.tagName.toLowerCase()||t||e.classList.contains("focus")||(t=e),e=e.parentElement;[].forEach.call(e.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(e.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")}),t&&(t.classList.add("focus"),this.setAttribute("aria-expanded","true"))}function i(e){const t=this.parentElement,n=9===e.keyCode,a=e.shiftKey;n&&a&&t.classList.contains("focus")?(t.classList.remove("focus"),this.setAttribute("aria-expanded","false")):!n||a||t.classList.contains("focus")||(t.classList.add("focus"),this.setAttribute("aria-expanded","true"))}function s(){for(var e=this,t=!1;!e.classList.contains("nav-menu");)t||"ul"!==e.tagName.toLowerCase()||([].forEach.call(e.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(e.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")}),t=!0),e=e.parentElement}function c(){for(var e=this;!e.classList.contains("nav-menu");)"li"!==e.tagName.toLowerCase()||e.classList.contains("focus")||(e.classList.add("focus"),e.querySelector(".main-navigation-arrow-btn")&&this.setAttribute("aria-expanded","true")),e=e.parentElement}function l(e){var t=this,n=!1,a=9===e.keyCode,o=e.shiftKey;if(a&&!o){do{n=function(e){do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}(t),t=t.parentElement}while(!n);[].forEach.call(t.querySelectorAll(".focus"),function(e){e.classList.remove("focus")}),[].forEach.call(t.querySelectorAll(".main-navigation-arrow-btn"),function(e){e.setAttribute("aria-expanded","false")})}}[].forEach.call(e,function(e){e.addEventListener("click",o),e.addEventListener("keydown",i)}),[].forEach.call(t,function(e){e.addEventListener("focus",s)}),[].forEach.call(n,function(e){e.addEventListener("focus",c)}),[].forEach.call(a,function(e){e.addEventListener("keydown",l)})},trapFocusInModal:function(e){document.addEventListener("keydown",function(t){if(!e.classList.contains("toggled"))return;const n=e.querySelectorAll("input, a, button");if(n.length<1)return;const a=n[0],o=n[n.length-1],i=document.activeElement,s=9===t.keyCode,c=t.shiftKey;s&&!c&&o===i&&(t.preventDefault(),a.focus()),s&&c&&a===i&&(t.preventDefault(),o.focus())})}},oceanly.backToTop={offset:300,offsetOpacity:1200,scrollDuration:700,init:function(){const e=document.querySelector(".back-to-top");e&&(this.handleScroll(e),this.handleClick(e))},handleScroll:function(e){var t=this.offset,n=this.offsetOpacity,a=!1;function o(){var o=window.scrollY||document.documentElement.scrollTop;o>t?e.classList.add("back-to-top--show"):(e.classList.remove("back-to-top--show"),e.classList.remove("back-to-top--fade-out")),o>n&&e.classList.add("back-to-top--fade-out"),a=!1}window.addEventListener("scroll",function(){a||(a=!0,window.requestAnimationFrame?window.requestAnimationFrame(o):setTimeout(o,250))})},handleClick:function(e){e.addEventListener("click",function(t){var n,a,o,i,s,c;t.preventDefault(),window.requestAnimationFrame?(n=0,a=this.scrollDuration,i=window.scrollY||document.documentElement.scrollTop,s=null,c=function(e){s||(s=e);var t=e-s;t>a&&(t=a);var l=Math.easeInOutQuad(t,i,n-i,a);window.scrollTo(0,l),t<a?window.requestAnimationFrame(c):o&&o()},window.requestAnimationFrame(c)):window.scrollTo(0,0),e.blur()}.bind(this))}},oceanlyDomReady(function(){oceanly.setupMainMenu.init(),oceanly.backToTop.init()});